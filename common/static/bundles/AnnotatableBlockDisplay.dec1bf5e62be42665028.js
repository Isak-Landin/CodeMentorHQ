(()=>{var t={23844:function(t,e,n){var o,i;(function(r){"use strict";o=[n(95891),n(20428),n(2648)],i=function(t,e,n){var o,i,r,l,s,a,u,c;function p(t){this.text=t}return p.prototype.valueOf=function(){return this.text},p.prototype.toString=function(){return this.text},r=function(e,o){var r=n.interpolate(i(e).toString(),t.mapObject(o,i));return s(r)},l=function(){var t,e="",n=arguments.length;for(t=0;t<n;t+=1)e+=i(arguments[t]);return s(e)},a=function(e,i){return function(r){var l=t.extend({HtmlUtils:o,StringUtils:n},r||{});return s(t.template(e,i)(l))}},u=function(t,n){return e(t).html(i(n).toString())},c=function(t,n){return e(t).prepend(i(n).toString())},o={append:function(t,n){return e(t).append(i(n).toString())},ensureHtml:i=function(e){return e instanceof p?e:s(t.escape(e))},HTML:s=function(t){return new p(t)},HtmlSnippet:p,interpolateHtml:r,joinHtml:l,prepend:c,setHtml:u,template:a}}.apply(e,o),void 0===i||(t.exports=i)}).call(this,n.amdD)},2648:function(t,e,n){var o;(function(n){"use strict";void 0===(o=function(){return{interpolate:function(t,e){return t.replace(/{\w+}/g,(function(t){var n=t.slice(1,-1);return String(e[n])}))}}}.apply(e,[]))||(t.exports=o)}).call(this,n.amdD)},44158:(t,e,n)=>{var o=n(95891),i=n(20428);(function(){(function(){"use strict";var t,e={};e.Descriptor=((t=function(t){this.element=t,this.update=o.bind(this.update,this)}).prototype.onUpdate=function(t){this.callbacks||(this.callbacks=[]),this.callbacks.push(t)},t.prototype.update=function(){var t,e;t=this.save(),(e=this.callbacks).length,i.each(e,(function(e,n){n(t)}))},t.prototype.save=function(){return{}},t),this.XBlockToXModuleShim=function(t,e,n){var o,r;if(n&&(o=n["xmodule-type"]),o||(o=i(e).data("type")),"None"!==o)try{return r=new window[o](e,t),i(e).hasClass("xmodule_edit")&&i(document).trigger("XModule.loaded.edit",[e,r]),i(e).hasClass("xmodule_display")&&i(document).trigger("XModule.loaded.display",[e,r]),r}catch(t){console.error("Unable to load "+o+": "+t.message)}},this.XModule=e}).call(this)}).call(window),t.exports=window.XModule},40377:(t,n,o)=>{var i=o(20428);(function(){(function(){var t=function(t,e){return function(){return t.apply(e,arguments)}};this.Annotatable=function(){function n(e){this.onMoveTip=t(this.onMoveTip,this),this.onShowTip=t(this.onShowTip,this),this.onClickReturn=t(this.onClickReturn,this),this.onClickReply=t(this.onClickReply,this),this.onClickToggleInstructions=t(this.onClickToggleInstructions,this),this.onClickToggleAnnotations=t(this.onClickToggleAnnotations,this),this._debug&&console.log("loaded Annotatable"),this.el=e,this.$el=i(e),this.init()}return n.prototype._debug=!1,n.prototype.wrapperSelector=".annotatable-wrapper",n.prototype.toggleAnnotationsSelector=".annotatable-toggle-annotations",n.prototype.toggleInstructionsSelector=".annotatable-toggle-instructions",n.prototype.instructionsSelector=".annotatable-instructions",n.prototype.sectionSelector=".annotatable-section",n.prototype.spanSelector=".annotatable-span",n.prototype.replySelector=".annotatable-reply",n.prototype.problemXModuleSelector=".xmodule_CapaModule",n.prototype.problemSelector="div.problem",n.prototype.problemInputSelector="div.problem .annotation-input",n.prototype.problemReturnSelector="div.problem .annotation-return",n.prototype.$=function(t){return i(t,this.el)},n.prototype.init=function(){return this.initEvents(),this.initTips()},n.prototype.initEvents=function(){var t;return t=[!1,!1],this.annotationsHidden=t[0],this.instructionsHidden=t[1],this.$(this.toggleAnnotationsSelector).bind("click",this.onClickToggleAnnotations),this.$(this.toggleInstructionsSelector).bind("click",this.onClickToggleInstructions),this.$el.on("click",this.replySelector,this.onClickReply),i(document).on("click",this.problemReturnSelector,this.onClickReturn)},n.prototype.initTips=function(){return this.$(this.spanSelector).each((t=this,function(e,n){return i(n).qtip(t.getSpanTipOptions(n))}));var t},n.prototype.getSpanTipOptions=function(t){return{content:{title:{text:this.makeTipTitle(t)},text:this.makeTipContent(t)},position:{my:"bottom center",at:"top center",target:i(t),container:this.$(this.wrapperSelector),adjust:{y:-5}},show:{event:"click mouseenter",solo:!0},hide:{event:"click mouseleave",delay:500,fixed:!0},style:{classes:"ui-tooltip-annotatable"},events:{show:this.onShowTip,move:this.onMoveTip}}},n.prototype.onClickToggleAnnotations=function(t){return this.toggleAnnotations()},n.prototype.onClickToggleInstructions=function(t){return this.toggleInstructions()},n.prototype.onClickReply=function(t){return this.replyTo(t.currentTarget)},n.prototype.onClickReturn=function(t){return this.returnFrom(t.currentTarget)},n.prototype.onShowTip=function(t,e){if(this.annotationsHidden)return t.preventDefault()},n.prototype.onMoveTip=function(t,e,n){var o,r,l,s,a,u,c,p,h,d,f,g,v,m,y,b,S,T;return v=e.elements.tooltip,o=(null!=(h=e.options.position)&&null!=(d=h.adjust)?d.y:void 0)||0,r=(null!=(f=e.options.position)?f.container:void 0)||i("body"),g=e.elements.target,u=(s=2===(null!=(p=i(g).get(0).getClientRects())?p.length:void 0)&&p[0].left>p[1].right?p[0].width>p[1].width?p[0]:p[1]:p[0]).left+s.width/2,c=s.top,S=i(v).width(),m=i(v).height(),y=(a=-(l=i(r).offset()).left)+u-S/2,b=i(document).scrollTop()-l.top+c-m+o,T=i(window).width(),y<a?y=a:y+S>T+a&&(y=T+a-S),i.extend(n,{left:y,top:b})},n.prototype.getSpanForProblemReturn=function(t){var e;return e=i(this.problemReturnSelector).index(t),this.$(this.spanSelector).filter("[data-problem-id='"+e+"']")},n.prototype.getProblem=function(t){var e;return e=this.getProblemId(t),i(this.problemInputSelector).eq(e)},n.prototype.getProblemId=function(t){return i(t).data("problem-id")},n.prototype.toggleAnnotations=function(){var t;return t=this.annotationsHidden=!this.annotationsHidden,this.toggleAnnotationButtonText(t),this.toggleSpans(t),this.toggleTips(t)},n.prototype.toggleTips=function(t){var e;return e=this.findVisibleTips(),this.hideTips(e)},n.prototype.toggleAnnotationButtonText=function(t){var e;return e=t?gettext("Show Annotations"):gettext("Hide Annotations"),this.$(this.toggleAnnotationsSelector).text(e)},n.prototype.toggleInstructions=function(){var t;return t=this.instructionsHidden=!this.instructionsHidden,this.toggleInstructionsButton(t),this.toggleInstructionsText(t)},n.prototype.toggleInstructionsButton=function(t){var e,n;return n=t?gettext("Expand Instructions"):gettext("Collapse Instructions"),e=t?["expanded","collapsed"]:["collapsed","expanded"],this.$(this.toggleInstructionsSelector).text(n).removeClass(e[0]).addClass(e[1])},n.prototype.toggleInstructionsText=function(t){var e;return e=t?"slideUp":"slideDown",this.$(this.instructionsSelector)[e]()},n.prototype.toggleSpans=function(t){return this.$(this.spanSelector).toggleClass("hide",t,250)},n.prototype.replyTo=function(t){var n;return-20,(n=this.getProblem(t)).length>0?this.scrollTo(n,this.afterScrollToProblem,-20):this._debug?console.log("problem not found. event: ",e):void 0},n.prototype.returnFrom=function(t){var n;return-200,(n=this.getSpanForProblemReturn(t)).length>0?this.scrollTo(n,this.afterScrollToSpan,-200):this._debug?console.log("span not found. event:",e):void 0},n.prototype.scrollTo=function(t,e,n){if(null==n&&(n=-20),i(t).length>0)return i("html,body").scrollTo(t,{duration:500,onAfter:this._once((o=this,function(){return null!=e?e.call(o,t):void 0})),offset:n});var o},n.prototype.afterScrollToProblem=function(t){return t.effect("highlight",{},500)},n.prototype.afterScrollToSpan=function(t){return t.addClass("selected",400,"swing",(function(){return t.removeClass("selected",400,"swing")}))},n.prototype.makeTipContent=function(t){return e=this,function(n){var o,r,l,s;return s=i(t).data("comment-body"),o=e.createComment(s),r=e.getProblemId(t),l=e.createReplyLink(r),i(o).add(l)};var e},n.prototype.makeTipTitle=function(t){return function(e){return i(t).data("comment-title")||gettext("Commentary")}},n.prototype.createComment=function(t){return i('<div class="annotatable-comment">'+t+"</div>")},n.prototype.createReplyLink=function(t){var e;return e=gettext("Reply to Annotation"),i('<a class="annotatable-reply" href="javascript:void(0);" data-problem-id="'+t+'">'+e+"</a>")},n.prototype.findVisibleTips=function(){var t;return t=[],this.$(this.spanSelector).each((function(e,n){var o;if(o=i(n).qtip("api"),i(null!=o?o.elements.tooltip:void 0).is(":visible"))return t.push(n)})),t},n.prototype.hideTips=function(t){return i(t).qtip("hide")},n.prototype._once=function(t){var e,n;return e=!1,n=this,function(){return e||t.call(n),e=!0}},n}()}).call(this)}).call(window)},65405:(t,e,n)=>{var o=n(20428),i=n(23844);(function(){(function(t){"use strict";return void(this.Collapsible={setCollapsibles:function(t){'<a href="#" class="full full-top">See full output</a>','<a href="#" class="full full-bottom">See full output</a>',t.find(".longform").hide(),t.find(".shortform").append('<a href="#" class="full full-top">See full output</a>','<a href="#" class="full full-bottom">See full output</a>'),t.find(".shortform-custom").each((function(t,e){var n,r;r=o(e).data("open-text"),n=o(e).data("close-text"),i.append(o(e),i.joinHtml(i.HTML("<a href='#' class='full-custom'>"),gettext(r),i.HTML("</a>"))),o(e).find(".full-custom").click((function(t){Collapsible.toggleFull(t,r,n)}))})),t.find(".collapsible header + section").hide(),t.find(".full").click((function(t){Collapsible.toggleFull(t,"See full output","Hide output")})),t.find(".collapsible header a").click(Collapsible.toggleHint)},toggleFull:function(t,e,n){var i,r,l;t.preventDefault(),(l=o(t.target).parent()).siblings().slideToggle(),l.parent().toggleClass("open"),r=o(t.target).text()===e?n:e;i=o(t.target).hasClass("full")?l.find(".full"):o(t.target);i.text(r)},toggleHint:function(t){t.preventDefault(),o(t.target).parent().siblings().slideToggle(),o(t.target).parent().parent().toggleClass("open")}})}).call(this)}).call(window)},10781:(t,e,n)=>{var o=n(20428);(function(){(function(){this.HTMLModule=function(){function t(t){this.element=t,this.el=o(this.element),JavascriptLoader.executeModuleScripts(this.el),Collapsible.setCollapsibles(this.el),"undefined"!=typeof MathJax&&null!==MathJax&&MathJax.Hub.Queue(["Typeset",MathJax.Hub,this.el[0]]),"undefined"!=typeof setupFullScreenModal&&null!==setupFullScreenModal&&setupFullScreenModal()}return t.prototype.$=function(t){return o(t,this.el)},t}()}).call(this)}).call(window)},31570:(t,e,n)=>{var o=n(20428);(function(){(function(){"use strict";this.JavascriptLoader=function(){function t(){}return t.executeModuleScripts=function(t,e){var n,i,r,l,s;return e||(e=null),0===(s=t.find(".script_placeholder")).length?(null!==e&&e(),[]):(i=function(){var t,e,n;for(n=[],t=1,e=s.length;e>=1?t<=e:t>=e;e>=1?++t:--t)n.push(!1);return n}(),n=!1,r=function(t){return function(){var o,r,l;for(o=!0,i[t]=!0,r=0,l=i.length;r<l;r++)if(!i[r]){o=!1;break}if(o&&!n&&(n=!0,null!==e))return e()}},l={},s.each((function(t,e){var n,i;return(i=o(e).attr("data-src"))in l?r(t)():(l[i]=!0,(n=document.createElement("script")).setAttribute("src",i),n.setAttribute("type","text/javascript"),n.onload=r(t),o("head")[0].appendChild(n)),o(e).remove()})))},t}()}).call(this)}).call(window)},95891:t=>{"use strict";t.exports=window._},20428:t=>{"use strict";t.exports=window.jQuery}},n={};function o(e){var i=n[e];if(void 0!==i)return i.exports;var r=n[e]={exports:{}};return t[e].call(r.exports,r,r.exports,o),r.exports}o.amdD=function(){throw new Error("define cannot be used indirect")},o(44158),o(10781),o(40377),o(31570);var i=o(65405),r=window;for(var l in i)r[l]=i[l];i.__esModule&&Object.defineProperty(r,"__esModule",{value:!0})})();